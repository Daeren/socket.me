<!DOCTYPE html>
<html lang="en">
    <head>
        <title></title>
        <meta charset="utf-8">
    </head>

    <body></body>

    <script src="http://localhost:3500/socket.me"></script>
    <script>
    const s = mio('localhost:3500');

    //---]>

    s.on('createRoom', (data) => {
        console.log('[srv.back] createRoom', data);
    });

    //---]>

    s.onConnected(() => {
        console.log("[open] Соединение установлено");

        // s.emit('createRoom', 200);
        s.emit('createRoom', 200, (r) => console.log('Личный ответ:', r));
    });

    s.onData((data) => {
        console.log(`[message] Данные получены: ${data}`);
    });

    s.onClose((wasClean, code, reason) => {
        if(wasClean) {
            console.log(`[close] Соединение закрыто чисто, код=${code} причина=${reason}`);
        }
        else {
            // например, сервер убил процесс или сеть недоступна
            // обычно в этом случае event.code 1006
            console.log('[close] Соединение прервано');
        }
    });

    s.onError((message) => {
        console.log(`[error] ${message}`);
    });
    </script>
</html>
